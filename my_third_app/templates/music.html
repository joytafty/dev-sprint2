{% extends "base.html" %}
{% block body %}
    <h2>Music</h2>
    <!-- Audio player -->
    <audio controls="controls" autoplay="autoplay"><audio/>

    <!-- List all songs -->
    <ul>
        {% for song in songs %}
        <li>
            <a  onclick="playSong('{{song}}')" href="javascript:void(0);">{{song}}
            </a>
        </li>
        {% endfor %}
    </ul>

    {% with messages = get_flashed_messages() %}
        {% if messages %}
            Results:
            <pre>
                {% for message in messages %}
                    {{ message }}
                {% endfor %}
            </pre>
        {% endif %}
    {% endwith %}
    <script type="text/javascript">
        function playSong(song){
            $('audio').attr('src', 'static/music/'+song);
        }
    </script>
{% endblock %}
{% block nav %}
<li><a href="{{url_for('index')}}">back</a></li>
{% endblock %}